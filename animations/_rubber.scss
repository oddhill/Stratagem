// RubberBand
$rubberSelector: () !global;

/**
 * Gives an object a rubberband like a effect entrance.
 *
 * @author Animation done by Dan Eden documentation by Anton Ranestam.
 * 
 * @group Regular animations
 * 
 * @param {transition-time} $transition-time (0.3s) - Time the animation should take in seconds.
 * @param {delay} $delay (0s) - Delay given to a animation.
 * @param {timing} $timing ($easeInOut) - What kind of easing.
 * @param {iteration-count} $iteration-count (1) - How many times the animations should iterate.
 * @param {direction} $direction (normal) - If the animation should be done once, do it backwards, or both at the same time.
 */
@mixin rubberBand($transition-time: 0.3s, $delay: 0s, $timing: $easeInOut, $iteration-count: 1, $direction: normal) {
  @include animation(rubberBand, $transition-time, $delay, $timing, $iteration-count, $direction);
  $rubberSelector: append($rubberSelector, true) !global;
}

// Copyright https://github.com/daneden/animate.css
@mixin rubberKey() {

  @if length($rubberSelector) >= 1 {

    @-webkit-keyframes rubberBand {
      0% {
        -webkit-transform: scale3d(1, 1, 1);
      }
      30% {
        -webkit-transform: scale3d(1.25, 0.75, 1);
      }
      40% {
        -webkit-transform: scale3d(0.75, 1.25, 1);
      }
      50% {
        -webkit-transform: scale3d(1.15, 0.85, 1);
      }
      65% {
        -webkit-transform: scale3d(.95, 1.05, 1);
      }
      75% {
        -webkit-transform: scale3d(1.05, .95, 1);
      }
      100% {
        -webkit-transform: scale3d(1, 1, 1);
      }
    }

    @-moz-keyframes rubberBand {
      0% {
        -moz-transform: scale3d(1, 1, 1);
      }
      30% {
        -moz-transform: scale3d(1.25, 0.75, 1);
      }
      40% {
        -moz-transform: scale3d(0.75, 1.25, 1);
      }
      50% {
        -moz-transform: scale3d(1.15, 0.85, 1);
      }
      65% {
        -moz-transform: scale3d(.95, 1.05, 1);
      }
      75% {
        -moz-transform: scale3d(1.05, .95, 1);
      }
      100% {
        -moz-transform: scale3d(1, 1, 1);
      }
    }

    @keyframes rubberBand {
      0% {
        transform: scale3d(1, 1, 1);
      }
      30% {
        transform: scale3d(1.25, 0.75, 1);
      }
      40% {
        transform: scale3d(0.75, 1.25, 1);
      }
      50% {
        transform: scale3d(1.15, 0.85, 1);
      }
      65% {
        transform: scale3d(.95, 1.05, 1);
      }
      75% {
        transform: scale3d(1.05, .95, 1);
      }
      100% {
        transform: scale3d(1, 1, 1);
      }
    }
  }
}
