$wiggleSelector: () !global;

@mixin wiggle($transition-time: 0.3s, $delay: 0s, $timing: $easeInOut, $iteration-count: 1, $direction: normal) {
  @include animationKeyframe(wiggle, $transition-time, $delay, $timing, $iteration-count, $direction);
  $wiggleSelector: append($wiggleSelector, true) !global;
}

@mixin wiggleKey {

  @if length($wiggleSelector) >= 1 {

    // Copyright https://github.com/daneden/animate.css
    @-webkit-keyframes wiggle {
        0% { -webkit-transform: skewX(9deg); }
        10% { -webkit-transform: skewX(-8deg); }
        20% { -webkit-transform: skewX(7deg); }
        30% { -webkit-transform: skewX(-6deg); }
        40% { -webkit-transform: skewX(5deg); }
        50% { -webkit-transform: skewX(-4deg); }
        60% { -webkit-transform: skewX(3deg); }
        70% { -webkit-transform: skewX(-2deg); }
        80% { -webkit-transform: skewX(1deg); }
        90% { -webkit-transform: skewX(0deg); }
        100% { -webkit-transform: skewX(0deg); }
    }

    @-moz-keyframes wiggle {
        0% { -moz-transform: skewX(9deg); }
        10% { -moz-transform: skewX(-8deg); }
        20% { -moz-transform: skewX(7deg); }
        30% { -moz-transform: skewX(-6deg); }
        40% { -moz-transform: skewX(5deg); }
        50% { -moz-transform: skewX(-4deg); }
        60% { -moz-transform: skewX(3deg); }
        70% { -moz-transform: skewX(-2deg); }
        80% { -moz-transform: skewX(1deg); }
        90% { -moz-transform: skewX(0deg); }
        100% { -moz-transform: skewX(0deg); }
    }

    @keyframes wiggle {
        0% { transform: skewX(9deg); }
        10% { transform: skewX(-8deg); }
        20% { transform: skewX(7deg); }
        30% { transform: skewX(-6deg); }
        40% { transform: skewX(5deg); }
        50% { transform: skewX(-4deg); }
        60% { transform: skewX(3deg); }
        70% { transform: skewX(-2deg); }
        80% { transform: skewX(1deg); }
        90% { transform: skewX(0deg); }
        100% { transform: skewX(0deg); }
    }
  }
}
