$slideInBottomModal: () !global;

@mixin slideInBottomModal($transition-time: 0.4s, $transition-time-close: 0.3s, $delay: 0s, $timing: $easeInOut, $iteration-count: 1, $direction: normal, $modal-bg: rgba(0,0,0,0.3), $openClass: '.open', $closeClass: '.close') {

  // When modal is active
  #{$openClass} & {
    @include animation(slideInBottomModal, $transition-time, $delay, $timing, $iteration-count, $direction);
    z-index: 1;
  }

  // Overlay
  @at-root {

    #{$openClass} {

      &:after {
        content: "";
        background: $modal-bg;
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        z-index: 0;
        @include fade($transition-time);
      }
    }
  }

  // Close state
  #{$closeClass}  & {
    @include animation(slideInBottomModalReverse, $transition-time-close, $delay, $timing, $iteration-count, $direction: normal);
  }

  $slideInBottomModal: append($slideInBottomModal, true) !global;
}

@mixin slideInBottomModalKey() {

  @if length($slideInBottomModal) >= 1 {

    @keyframes slideInBottomModal {
      0% {
        -webkit-transform: translateY(-25%);
        -moz-transform: translateY(-25%);
        -ms-transform: translateY(-25%);
        transform: translateY(-25%);
        opacity: 0;
      }
      100% {
        -webkit-transform: translateY(0%);
        -moz-transform: translateY(0%);
        -ms-transform: translateY(0%);
        transform: translateY(0%);
        opacity: 1;
        visibility: visible;
      }
    }

    @-webkit-keyframes slideInBottomModal {
      0% {
        -webkit-transform: translateY(25%);
        -moz-transform: translateY(25%);
        -ms-transform: translateY(25%);
        transform: translateY(25%);
        opacity: 0;
      }
      100% {
        -webkit-transform: translateY(0%);
        -moz-transform: translateY(0%);
        -ms-transform: translateY(0%);
        transform: translateY(0%);
        opacity: 1;
        visibility: visible;
      }
    }

    @-moz-keyframes slideInBottomModal {
      0% {
        -webkit-transform: translateY(25%);
        -moz-transform: translateY(25%);
        -ms-transform: translateY(25%);
        transform: translateY(25%);
        opacity: 0;
      }
      100% {
        -webkit-transform: translateY(0%);
        -moz-transform: translateY(0%);
        -ms-transform: translateY(0%);
        transform: translateY(0%);
        opacity: 1;
        visibility: visible;
      }
    }

    @keyframes slideInBottomModalReverse {
      0% {
        -webkit-transform: translateY(0%);
        -moz-transform: translateY(0%);
        -ms-transform: translateY(0%);
        transform: translateY(0%);
        opacity: 1;
        visibility: visible;
      }
      100% {
        -webkit-transform: translateY(15%);
        -moz-transform: translateY(15%);
        -ms-transform: translateY(15%);
        transform: translateY(15%);
        opacity: 0;
      }
    }

    @-webkit-keyframes slideInBottomModalReverse {
      0% {
        -webkit-transform: translateY(0%);
        -moz-transform: translateY(0%);
        -ms-transform: translateY(0%);
        transform: translateY(0%);
        opacity: 1;
        visibility: visible;
      }
      100% {
        -webkit-transform: translateY(15%);
        -moz-transform: translateY(15%);
        -ms-transform: translateY(15%);
        transform: translateY(15%);
        opacity: 0;
      }
    }

    @-moz-keyframes slideInBottomModalReverse {
      0% {
        -webkit-transform: translateY(0%);
        -moz-transform: translateX(0%);
        -ms-transform: translateX(0%);
        transform: translateX(0%);
        opacity: 1;
        visibility: visible;
      }
      100% {
        -webkit-transform: translateY(15%);
        -moz-transform: translateY(15%);
        -ms-transform: translateY(15%);
        transform: translateY(15%);
        opacity: 0;
      }
    }
  }
}
